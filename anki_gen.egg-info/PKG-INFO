Metadata-Version: 2.1
Name: anki-gen
Version: 1.0.0
Summary: Anki flashcard generation tool for probabilistic models course
Home-page: 
Author: Lukas Kurz
Author-email: 
Keywords: anki flashcards education machine-learning probabilistic-models
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Education
Classifier: Topic :: Education
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Requires-Python: >=3.8
Description-Content-Type: text/markdown
Requires-Dist: PyMuPDF>=1.24.0
Requires-Dist: Pillow>=10.0.0
Requires-Dist: pyyaml>=6.0
Requires-Dist: tqdm>=4.65.0
Requires-Dist: genanki>=0.13.0
Requires-Dist: click>=8.1.0
Requires-Dist: httpx>=0.28.0
Requires-Dist: rich>=13.0.0

# PDF to Anki Flashcard Generator

Automated tool to extract content from lecture PDFs and generate high-quality Anki flashcards with Claude Code.

## How It Works

This tool uses a **two-step interactive process**:

1. **Extract PDFs** (one-time): Extracts text and images from all PDFs → markdown files
2. **Generate Cards** (per unit): Claude Code analyzes markdown → generates flashcards

**No API costs! No API key needed!** Claude Code (the CLI tool you're using) generates flashcards directly.

## Quick Start

### 1. Setup (One Time)

```bash
# Create and activate virtual environment
python3 -m venv venv
source venv/bin/activate

# Install dependencies
pip install -r requirements.txt
```

### 2. Extract All PDFs (One Time)

```bash
python extract_pdfs.py
```

This processes all 11 PDFs and creates:
- `outputs/markdown/*.md` - Text content from each PDF
- `outputs/images/*.png` - Extracted diagrams and figures

**Time**: ~5 minutes for all 11 PDFs

### 3. Generate Flashcards (Per Unit)

```bash
python generate_cards.py --unit unit1_introduction
```

This will:
1. Display the markdown content
2. Show instructions for Claude Code
3. Claude Code reads it and generates ~50 flashcards
4. Output saved to `outputs/anki/unit1_introduction_anki.txt`

**Time**: ~2-5 minutes per unit

Repeat for each unit you want flashcards for!

### 4. Import to Anki

1. Open Anki Desktop
2. File → Import
3. Select `outputs/anki/unit1_introduction_anki.txt`
4. Verify settings:
   - Fields separated by: **Tab**
   - Allow HTML in fields: **Yes**
5. Import!

## Project Structure

```
learning/
├── src/                     # Core modules
│   ├── pdf_processor.py     # PDF text & image extraction
│   ├── markdown_generator.py  # Convert PDF → markdown
│   ├── anki_formatter.py    # Format Anki output
│   ├── config.py            # Configuration management
│   └── utils.py             # Helper functions
├── outputs/
│   ├── markdown/            # Generated .md files (after extract_pdfs.py)
│   ├── images/              # Extracted images (after extract_pdfs.py)
│   └── anki/                # Anki .txt files (after generate_cards.py)
├── pdfs/                    # Source PDFs (11 files)
├── config.yaml              # Unit configurations
├── requirements.txt         # Python dependencies
├── extract_pdfs.py          # Step 1: Extract all PDFs
├── generate_cards.py        # Step 2: Generate cards per unit
└── README.md                # This file
```

## Available Units

After running `extract_pdfs.py`, you can generate cards for any of these units:

| Unit | Command | Cards | Topics |
|------|---------|-------|--------|
| Unit 1 | `--unit unit1_introduction` | ~50 | Motivation, applications |
| Unit 2 | `--unit unit2_probability` | ~65 | Probability, Bayes rule |
| Unit 3 | `--unit unit3_bayesian_networks` | ~70 | Representation, independence |
| Unit 4a | `--unit unit4_exact_inference` | ~40 | Variable elimination |
| Unit 4b | `--unit unit4_approximate_inference` | ~40 | Sampling methods |
| Unit 5 | `--unit unit5_learning_overview` | ~20 | Learning overview |
| Unit 5a | `--unit unit5_parameter_learning` | ~40 | MLE, Bayesian learning |
| Unit 5b | `--unit unit5_structure_learning` | ~40 | Structure learning |
| Unit 6 | `--unit unit6_temporal_models` | ~50 | DBNs, filtering |
| Unit 8 | `--unit unit8_hmms` | ~70 | HMMs, Forward, Viterbi |
| Unit 6b | `--unit unit6_kalman_filters` | ~30 | Kalman filters |

## Card Quality

All generated flashcards follow exam-aligned principles:

- ✅ **Test understanding**, not memorization
- ✅ **Concrete examples** with simple calculations
- ✅ **Conceptual focus**: "Why" not just "what"
- ✅ **Visual aids**: Includes extracted diagrams
- ✅ **MathJax formatting**: Proper mathematical notation
- ✅ **Quality distribution**:
  - 40% Conceptual Understanding
  - 20% Simple Worked Examples
  - 20% Algorithm Comprehension
  - 10% Pattern Recognition
  - 10% Visual/Diagram-Based

## Configuration

Edit `config.yaml` to customize:

```yaml
processing:
  extract_images: true
  min_image_size: [100, 100]  # Min size to extract

output:
  markdown_dir: outputs/markdown
  images_dir: outputs/images
  anki_dir: outputs/anki

units:
  "01_Introduction_to_Class.pdf":
    unit_name: unit1_introduction
    target_cards: 50
    tags: [unit1, introduction, motivation]
  # ... etc for all PDFs

card_distribution:
  conceptual: 0.40
  worked_examples: 0.20
  algorithm: 0.20
  pattern_recognition: 0.10
  visual: 0.10
```

## Workflow Example

Complete workflow for Unit 1:

```bash
# 1. Setup (first time only)
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt

# 2. Extract all PDFs (first time only)
python extract_pdfs.py
# Output: 11 markdown files + ~80-120 images

# 3. Check the markdown (optional)
cat outputs/markdown/unit1_introduction.md

# 4. Generate flashcards for Unit 1
python generate_cards.py --unit unit1_introduction
# Claude Code will read the markdown and create flashcards
# Output: outputs/anki/unit1_introduction_anki.txt

# 5. Import to Anki Desktop
# File → Import → Select the .txt file

# 6. Repeat step 4 for other units as needed
python generate_cards.py --unit unit2_probability
python generate_cards.py --unit unit3_bayesian_networks
# ... etc
```

## Troubleshooting

### "Configuration file not found"

Make sure you're running scripts from the project root directory where `config.yaml` exists.

```bash
cd /path/to/learning
python extract_pdfs.py
```

### "Markdown file not found"

Run `extract_pdfs.py` first before trying to generate cards.

```bash
python extract_pdfs.py
python generate_cards.py --unit unit1_introduction
```

### "Unit not found in config.yaml"

Check available units:
```bash
python generate_cards.py --unit invalid_name
# This will show a list of valid unit names
```

### Import errors in Anki

Verify the file format:
- Must be tab-separated (not spaces)
- Must have 3 columns (Front, Back, Tags)
- Must use UTF-8 encoding

## Expected Output

After processing all units:

- **Markdown files**: 11 files (~1000-5000 lines each)
- **Images**: 80-120 PNG files
- **Anki files**: 8-11 files (one per unit)
- **Total cards**: ~515 flashcards
- **Processing time**:
  - PDF extraction: ~5 minutes (one-time)
  - Card generation: ~2-5 minutes per unit
  - Total: ~30-60 minutes for all units

## Advantages Over API Approach

- ✅ **Free**: No API costs
- ✅ **Simple**: No API key setup needed
- ✅ **Interactive**: Process units as needed
- ✅ **Quality control**: Review markdown before generating cards
- ✅ **Iterative**: Easy to regenerate if needed

## Technical Details

### Dependencies

- **PyMuPDF**: PDF text and image extraction
- **Pillow**: Image processing
- **pyyaml**: Configuration files
- **tqdm**: Progress bars

No API dependencies!

### File Format

Anki files use this format:

```
#separator:tab
#html:true
#tags column:3
Front	Back	Tags
Why is X important?	Because <strong>Y</strong>...<br><br>\[formula\]	unit1 concept
```

- Tab-separated (not spaces!)
- HTML tags allowed
- MathJax with `\(...\)` for inline, `\[...\]` for display
- Tags in column 3, space-separated

## License

This is a personal educational tool for creating study materials.
